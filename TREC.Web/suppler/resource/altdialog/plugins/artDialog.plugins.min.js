(function(c){c.alert=function(b,a){return c.dialog({id:"Alert",fixed:!0,lock:!0,content:b,ok:!0,beforeunload:a})};c.confirm=function(b,a,g){return c.dialog({id:"Confirm",fixed:!0,lock:!0,content:b,ok:a,cancel:g})};c.prompt=function(b,a,g){var d;return c.dialog({id:"Prompt",fixed:!0,lock:!0,content:['<div style="margin-bottom:5px;font-size:12px">',b,'</div><div><input type="text" class="d-input-text" value="',g||"",'" style="width:18em;padding:6px 4px" /></div>'].join(""),initialize:function(){d=this.dom.content.find(".d-input-text")[0];
d.select();d.focus()},ok:function(){return a&&a.call(this,d.value)},cancel:function(){}})};c.dialog.prototype.shake=function(){var b=function(b,a,c){var h=+new Date,e=setInterval(function(){var f=(+new Date-h)/c;1<=f?(clearInterval(e),a(f)):b(f)},13)},a=function(g,d,c,h){var e=h;void 0===e&&(e=6,c/=e);var f=parseInt(g.style.marginLeft)||0;b(function(b){g.style.marginLeft=f+(d-f)*b+"px"},function(){0!==e&&a(g,1===e?0:d/e-d,c,--e)},c)};return function(){a(this.dom.wrap[0],40,600);return this}}();var o=
function(){var b=this,a=function(a){var d=b[a];b[a]=function(){return d.apply(b,arguments)}};a("start");a("move");a("end")};o.prototype={start:function(b){c(document).bind("mousemove",this.move).bind("mouseup",this.end);this._sClientX=b.clientX;this._sClientY=b.clientY;this.onstart(b.clientX,b.clientY);return!1},move:function(b){this._mClientX=b.clientX;this._mClientY=b.clientY;this.onmove(b.clientX-this._sClientX,b.clientY-this._sClientY);return!1},end:function(b){c(document).unbind("mousemove",
this.move).unbind("mouseup",this.end);this.onend(b.clientX,b.clientY);return!1}};var j=c(window),k=c(document),i=document.documentElement,p=!("minWidth"in i.style),q="onlosecapture"in i,r="setCapture"in i,A="getSelection"in window?function(){window.getSelection().removeAllRanges()}:function(){try{document.selection.empty()}catch(b){}},n=function(b){var a=new o,c=artDialog.focus,d=c.dom,i=d.wrap,h=d.title,e=i[0],f=h[0],m=d.main[0],l=e.style,s=m.style,t=b.target===d.se[0]?!0:!1,u=(d="fixed"===e.style.position)?
0:k.scrollLeft(),v=d?0:k.scrollTop(),n=j.width()-e.offsetWidth+u,B=j.height()-e.offsetHeight+v,w,x,y,z;a.onstart=function(){t?(w=m.offsetWidth,x=m.offsetHeight):(y=e.offsetLeft,z=e.offsetTop);k.bind("dblclick",a.end);!p&&q?h.bind("losecapture",a.end):j.bind("blur",a.end);r&&f.setCapture();i.addClass("d-state-drag");c.focus()};a.onmove=function(a,b){if(t){var c=a+w,d=b+x;l.width="auto";s.width=Math.max(0,c)+"px";l.width=e.offsetWidth+"px";s.height=Math.max(0,d)+"px"}else c=Math.max(u,Math.min(n,a+
y)),d=Math.max(v,Math.min(B,b+z)),l.left=c+"px",l.top=d+"px";A()};a.onend=function(){k.unbind("dblclick",a.end);!p&&q?h.unbind("losecapture",a.end):j.unbind("blur",a.end);r&&f.releaseCapture();i.removeClass("d-state-drag")};a.start(b)};c(document).bind("mousedown",function(b){var a=artDialog.focus;if(a){var c=b.target,d=a.config,a=a.dom;if(!1!==d.drag&&c===a.title[0]||!1!==d.resize&&c===a.se[0])return n(b),!1}})})(this.art||this.jQuery);
